<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New York Barchart</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<style>






</style>
<body>
    <h1> New York Barchart of Police Budget</h1>
    
   
    <script type="text/javascript"> 

 
        // var w = 500;
        // var h = 500;
        // // var margin={top:50,bottom:50,left:50,right:50}
        // var cellpadding = 5;
       
        // var svg = d3.select("body").append("svg")
        //     .attr("width", w)
        // //  console.log(w)
        //     .attr("height", h);

        data=[33,55,33,222]

        var width = 1000,
            barHeight = 20,
            margin = 1;

  
               
                d3.csv("Capstone Police Budget Data - WashingtonDCBudget.csv", function(data) {

                // var scale = d3.scaleLinear()
                //  .domain([d3.min(data), d3.max(data)])
                //  .range([50, 500]);

                var x = d3.scaleLinear()
                    .domain([0,590000000])
                    .range([ 0, width]);

                var y = d3.scaleBand()
                    .range([ 0, barHeight ])
                    .domain(data.map(function(d) { return d.Attrbuttes; }))
                    .padding(.5);
                svg.append("g")
                 .call(d3.axisLeft(y))
    
   

                var svg = d3.select("body")
                  .append("svg")
                  .attr("width", width)
                  .attr("height", barHeight * data.length);

                var gp = svg.selectAll("g")
                  .data(data)
                  .enter()
                  .append("g")
                  .attr("transform", function (d, i) {
                      console.log("translate(0," + i * barHeight + ")")
                      return "translate(0," + i * barHeight + ")";
                  });

                  

                gp.append("rect")
                .attr("width", function (d) {
                    console.log(scale(d.Amount))
                    return scale(d);
                })
                .attr("height", barHeight - margin)

                gp.append("text")
                .attr("x", function (d) { return (scale(d)); })
                .attr("y", barHeight / 2)
                .attr("dy", ".35em")
                .text(function (d) { return d; });


                 
                            })
            
                           

           
                //     var yScale = d3.scaleLog()
                //         .range([h - cellpadding, cellpadding])
                //         .domain([d3.min(data), d3.max(data)]);
                //         .attr("width",w/data.length-cellpadding)
                //         .attr("height",h)
                //             .attr("x",function(d,i){
                //                 return w/data.length *i;
                //             })
                //             .attr("height", function(d){
                //                 return d.Amount / 160 * h;
                //             })
           
                //                  .attr("width",w/data.length-cellpadding)
                //         .attr("height",h)
                //             .attr("x", function(d, i){
                //                 // console.log(w / data.length * i);
                //                 return w / data.length * i;
                                
                //             } )
                //             .attr("height", function(d){
                //                 // console.log(d.Amount)
                //                  return d.Amount;
                      






























        // const x = d3.scaleBand()
        //     .domain(d3.range(data.length))
        //     .range([margin.left,width-margin.right])
        //     .padding (.1);

        // const y = d3.scaleLinear()
        //     .domain([0,12000000000])
        //     .range([height-margin.bottom,margin.top]);
        // // console.log(data[0]['Amount'])
        // // console.log(data.length)
       
        // for (let i = 0; i< data.length; i++) {
        //     console.log(data[i]['Amount'])
        //     svg     
                


        //         .append('g')
        //         .attr("fill",'royalblue')
        //         .selectAll('rect')  
        //         .data(data[i]['Amount'])
        //         .join('rect')
        //             .attr('x',(d,i)=>x(i))
        //             .attr('y', d => (data[i]['Amount']))
        //             //.attr('height',d => y(0) - y(data[i]['Amount']))
        //             .attr('width',x.bandwidth())
        // }
        // svg.node();



            

           
            
            // .join('rect')
            //     .attr('x',(d,i)=>x(i))
            //     .attr('y',(d)=> y(d.Amount))
                
            //     .attr('height', d =>y(0)-y(d.Amount))
            //             .attr('width',x.bandwidth())
            // svg.node();  
                    
        //         console.log(data);
        

               
           
           

                
        //  } )

    

        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </script>
    
</body>
</html>